(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{28:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),a=c.n(r),s=c(19),o=c.n(s),i=c(3),l=c(5);c(28);function j(e){var t=e.theme,c=e.setTheme;return Object(n.jsxs)("nav",{className:"nav mb-2",children:[Object(n.jsxs)("ul",{className:"nav-items",children:[Object(n.jsx)(l.c,{to:"/",exact:!0,activeClassName:"light"==t?"nav-active-link":"nav-active-link-dark",className:"dark"==t?"nav-link-dark":"",children:"Top"}),Object(n.jsx)(l.c,{to:"/new",activeClassName:"light"==t?"nav-active-link":"nav-active-link-dark",className:"dark"==t?"nav-link-dark":"",children:"New"})]}),Object(n.jsx)("div",{style:{fontSize:"32px",cursor:"pointer"},onClick:function(){return c((function(e){return"dark"==e?"light":"dark"}))},children:"dark"==t?"\ud83d\udca1":"\ud83d\udd26"})]})}var u=c(2),h="https://hacker-news.firebaseio.com/v0",d=".json?print=pretty";function b(e){return e.filter(Boolean).filter((function(e){return!0!==e.dead}))}function m(e){return e.filter((function(e){return!0!==e.deleted}))}function O(e){return e.filter((function(e){return"story"===e.type}))}function f(e){return fetch("".concat(h,"/item/").concat(e).concat(d)).then((function(e){return e.json()}))}var x=c(9),v=c.n(x),p=a.a.createContext();function k(e){var t=e.post,c=t.title,r=t.by,s=t.url,o=t.kids,i=void 0===o?[]:o,j=t.epochTime;t.id;console.log(t);var u=a.a.useContext(p),h=v()(j).format("lll");return console.log("post -> ",t),Object(n.jsxs)("div",{className:"post mt-2",children:[Object(n.jsx)("h4",{children:Object(n.jsx)("a",{href:s,target:"_blank",className:"light"==u?"color-primary":"color-primary-dark",children:c})}),Object(n.jsxs)("p",{className:"color-secondary",children:["by",Object(n.jsx)(l.b,{to:"/user"+"?id=".concat(r),children:Object(n.jsxs)("u",{className:"light"==u?" ":"dark",children:[" ",r," "]})}),"on ",h," with",Object(n.jsxs)(l.b,{to:{pathname:"/post",search:"id=23",state:{post:t}},children:[" ",Object(n.jsx)("u",{className:"light"==u?" ":"dark",children:i.length})," "]}),"comments"]})]})}c(35);function g(e){var t=e.loadInterval,c=void 0===t?1e3:t,r=e.loadingText,s=void 0===r?"Loading":r,o=a.a.useState(s),l=Object(i.a)(o,2),j=l[0],u=l[1],h=a.a.useContext(p);return a.a.useEffect((function(){var e=setInterval((function(){u((function(e){return e==s+"..."?s:e+"."}))}),c);return function(){return clearInterval(e)}}),[]),Object(n.jsx)("h2",{className:"dark"==h?"color-primary-dark":"",children:j})}function N(e){var t=e.error,c=void 0===t?"There was some error":t,r=a.a.useContext(p);return Object(n.jsx)("h2",{className:"dark"==r?"color-primary-dark":"",children:c})}function y(e){var t=Object(u.f)().pathname,c=Object(r.useState)(!0),s=Object(i.a)(c,2),o=s[0],l=s[1],j=Object(r.useState)(""),x=Object(i.a)(j,2),v=x[0],y=x[1],S=Object(r.useState)(""),w=Object(i.a)(S,2),C=w[0],T=w[1],P=a.a.useContext(p);return a.a.useEffect((function(){var e,c="/"==t?"top":"new";l(!0),(e=c,fetch("".concat(h,"/").concat(e,"stories").concat(d)).then((function(e){return e.json()})).then((function(t){if(!t)throw new Error("There was an error fetching the ".concat(e," posts."));return t.slice(0,50)})).then((function(e){return Promise.all(e.map(f))})).then((function(e){return m(O(b(e)))}))).then((function(e){y(null),l(!1),T(e)})).catch((function(e){l(!1),y(e.message),T(null)}))}),[t]),o?Object(n.jsx)(g,{}):v?Object(n.jsx)(N,{error:v}):C?Object(n.jsx)("div",{children:C.map((function(e,t){return Object(n.jsx)(k,{post:e},t)}))}):Object(n.jsx)("div",{className:"dark"==P?"color-primary-dark":"",children:"There are no posts"})}var S=c(22),w=(c(36),c(21)),C=c.n(w);function T(e){var t=e.submitted;t.length=50;var c=a.a.useState(),r=Object(i.a)(c,2),s=r[0],o=r[1],l=a.a.useState(!0),j=Object(i.a)(l,2),u=j[0],h=j[1],d=a.a.useState("There was some error"),x=Object(i.a)(d,2),v=x[0],p=x[1];return a.a.useEffect((function(){var e;h(!0),p(""),(e=t,Promise.all(e.map(f)).then((function(e){return m(O(b(e)))}))).then((function(e){h(!1),p(""),o(e),console.log(e)})).catch((function(e){p(e.message),h(!1),o(null)}))}),[t]),u?Object(n.jsx)(g,{loadingText:"Loading Posts"}):s?s.length>0?Object(n.jsx)("div",{children:s.map((function(e,t){return Object(n.jsx)(k,{post:e},t)}))}):Object(n.jsx)("p",{children:"There are no posts"}):Object(n.jsx)(N,{error:v})}function P(e){e.className;var t=e.user,c=(Object(S.a)(e,["className","user"]),t.id),r=t.karma,s=t.created,o=t.about,i=v()(s).format("lll"),l=a.a.useContext(p);return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"mt-2 ".concat("light"==l?"":"color-dark"),children:c}),Object(n.jsxs)("p",{className:"color-secondary",children:["joined ",i," has ",Object(n.jsx)("b",{children:r})," karma"]}),Object(n.jsx)("p",{className:"bio mt-1 ".concat("light"==l?"":"color-dark"),dangerouslySetInnerHTML:{__html:o}})]})}function E(e){var t=Object(u.f)().search,c=C.a.parse(t).id,r=a.a.useState(null),s=Object(i.a)(r,2),o=s[0],l=s[1],j=a.a.useState(!0),b=Object(i.a)(j,2),m=b[0],O=b[1],f=a.a.useState("There was some error"),x=Object(i.a)(f,2),v=x[0],k=x[1],y=a.a.useContext(p);return a.a.useEffect((function(){O(!0),k(""),function(e){return fetch("".concat(h,"/user/").concat(e).concat(d)).then((function(e){return e.json()}))}(c).then((function(e){k(""),O(!1),l(e)})).catch((function(e){O(!1),k(e.message),l(null)}))}),[c]),m?Object(n.jsx)(g,{}):o?Object(n.jsxs)("div",{className:"my-2",children:[Object(n.jsx)(P,{user:o}),Object(n.jsx)("h3",{className:"mt-2 ".concat("light"==y?"":"color-dark"),children:"Posts"}),Object(n.jsx)(T,{submitted:o.submitted})]}):Object(n.jsx)(N,{error:v})}c(49);function I(e){var t=e.comment,c=t.by,r=t.text,s=t.epochTime,o=v()(s).format("lll"),i=a.a.useContext(p);return Object(n.jsxs)("div",{className:"".concat("light"==i?"comment":"comment-dark"," mt-1"),children:[Object(n.jsxs)("p",{className:"color-secondary",children:["by",Object(n.jsxs)(l.b,{to:{pathname:"/user",search:"id=".concat(c)},children:[" ",Object(n.jsx)("u",{className:"light"==i?"":"color-dark",children:c})," "]}),o," "]}),Object(n.jsx)("p",{className:"".concat("dark"==i?"color-dark":""," mt-1"),children:r})]})}function L(e){var t=e.comments,c=a.a.useState(null),r=Object(i.a)(c,2),s=r[0],o=r[1],l=a.a.useState(!0),j=Object(i.a)(l,2),u=j[0],h=j[1],d=a.a.useState(""),O=Object(i.a)(d,2),x=O[0],v=O[1];return a.a.useEffect((function(){var e;h(!0),v(null),(e=t,Promise.all(e.map(f)).then((function(e){return m(b(e).filter((function(e){return"comment"===e.type})))}))).then((function(e){h(!1),v(null),o(e)})).catch((function(e){h(!1),v(e.message),o(null)}))}),[t]),u?Object(n.jsx)(g,{}):s?Object(n.jsx)("div",{children:s.map((function(e,t){return Object(n.jsx)(I,{comment:e},t)}))}):Object(n.jsx)(N,{error:x})}function F(e){var t=Object(u.f)().state.post,c=t.by,r=t.kids,s=void 0===r?[]:r,o=t.time,i=t.title,j=t.url,h=v()(o).format("lll"),d=a.a.useContext(p);return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsxs)("h1",{children:[" ",Object(n.jsx)("a",{className:"light"==d?"color-primary":"color-primary-dark",href:j,target:"_blank",children:i})," "]}),Object(n.jsxs)("p",{className:"color-secondary",children:["by ",Object(n.jsx)(l.b,{to:{pathname:"/user",search:"?id=".concat(c)},children:Object(n.jsx)("u",{className:"light"==d?" ":"color-dark",children:c})})," on ",h," with ",Object(n.jsx)("u",{className:"light"==d?" ":"color-dark",children:s.length})," comments"]})]}),s.length>0?Object(n.jsx)(L,{comments:s}):Object(n.jsx)("p",{children:"No Comments"})]})}c(50);var _=function(){var e=a.a.useState("light"),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(n.jsx)(p.Provider,{value:c,children:Object(n.jsx)("div",{className:"App  ".concat("dark"==c?"dark":null),children:Object(n.jsx)("div",{className:"container  ",children:Object(n.jsxs)(l.a,{children:[Object(n.jsx)(j,{setTheme:r,theme:c}),Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/user",children:Object(n.jsx)(E,{})}),Object(n.jsx)(u.a,{path:"/post",children:Object(n.jsx)(F,{})}),Object(n.jsx)(u.a,{path:"/new",children:Object(n.jsx)(y,{})}),Object(n.jsx)(u.a,{path:"/",children:Object(n.jsx)(y,{})})]})]})})})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,53)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};c(51);o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root")),B()}},[[52,1,2]]]);
//# sourceMappingURL=main.cedeb099.chunk.js.map