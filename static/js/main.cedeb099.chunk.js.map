{"version":3,"sources":["components/nav/index.js","api/index.js","contexts/theme-context.js","components/Posts/Post/index.js","components/Loading/index.js","components/Error/index.js","components/Posts/index.js","components/userProfile/userPosts/index.js","components/userProfile/index.js","components/PostComments/Comment/index.js","components/PostComments/index.js","App.js","reportWebVitals.js","index.js"],"names":["Nav","theme","setTheme","className","to","exact","activeClassName","style","fontSize","cursor","onClick","api","json","removeDead","posts","filter","Boolean","dead","removeDeleted","deleted","onlyPosts","type","fetchItem","id","fetch","then","res","themeContext","React","createContext","Post","post","title","author","by","url","kids","comments","epochTime","console","log","useContext","time","moment","format","href","target","pathname","search","state","length","Loading","loadInterval","loadingText","useState","loading","setLoading","useEffect","interId","setInterval","clearInterval","Error","error","Posts","props","useLocation","setError","setPosts","postType","ids","slice","Promise","all","map","fetchedPosts","catch","fetchError","message","i","UserPosts","submitted","err","UserDetail","user","karma","created","about","joined","dangerouslySetInnerHTML","__html","UserProfile","query","queryString","parse","setUser","fetchUser","fetchedUser","Comment","comment","text","CommentsContainer","fetchedComments","setFetchedComments","fetched","PostComments","App","Provider","value","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cedeb099.chunk.js","sourcesContent":["import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport './nav.css'\r\n\r\nexport function Nav({theme,setTheme}) {\r\n\t\r\n\treturn (\r\n\t\t<nav className=\"nav mb-2\">\r\n\t\t\t<ul className=\"nav-items\">\r\n\t\t\t\t<NavLink to=\"/\" \r\n\t\t\t\t\texact \r\n\t\t\t\t\tactiveClassName={theme=='light' ? 'nav-active-link' : 'nav-active-link-dark'} \r\n\t\t\t\t\tclassName={theme=='dark'? 'nav-link-dark': ''}\r\n\t\t\t\t>\r\n\t\t\t\t\tTop\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<NavLink to=\"/new\" \r\n\t\t\t\t\tactiveClassName={theme=='light' ? 'nav-active-link' : 'nav-active-link-dark'}  \r\n\t\t\t\t  className={theme=='dark'? 'nav-link-dark': ''}>\r\n\t\t\t\t\tNew\r\n\t\t\t\t</NavLink >\r\n\t\t\t</ul>\r\n\r\n\t\t\t<div style={{fontSize: '32px', cursor:'pointer'}} onClick={()=> setTheme((theme)=> theme=='dark'? 'light': 'dark' )}>\r\n\t\t\t  {theme=='dark' ? 'ðŸ’¡':'ðŸ”¦'}\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t)\r\n}\r\n","const api = `https://hacker-news.firebaseio.com/v0`\r\nconst json = '.json?print=pretty'\r\n\r\nfunction removeDead (posts) {\r\n  return posts.filter(Boolean).filter(({ dead }) => dead !== true)\r\n}\r\n\r\nfunction removeDeleted (posts) {\r\n  return posts.filter(({ deleted }) => deleted !== true)\r\n}\r\n\r\nfunction onlyComments (posts) {\r\n  return posts.filter(({ type }) => type === 'comment')\r\n}\r\n\r\nfunction onlyPosts (posts) {\r\n  return posts.filter(({ type }) => type === 'story')\r\n}\r\n\r\nexport function fetchItem (id) {\r\n  return fetch(`${api}/item/${id}${json}`)\r\n    .then((res) => res.json())\r\n}\r\n\r\n\r\n//main uses\r\nexport function fetchComments (ids) {\r\n  return Promise.all(ids.map(fetchItem))\r\n    .then((comments) => removeDeleted(onlyComments(removeDead(comments))))\r\n}\r\n\r\nexport function fetchMainPosts (type) {\r\n  return fetch(`${api}/${type}stories${json}`)\r\n    .then((res) => res.json())\r\n    .then((ids) => {\r\n      if (!ids) {\r\n        throw new Error(`There was an error fetching the ${type} posts.`)\r\n      }\r\n\r\n      return ids.slice(0, 50)\r\n    })\r\n    .then((ids) => Promise.all(ids.map(fetchItem)))\r\n    .then((posts) => removeDeleted(onlyPosts(removeDead(posts))))\r\n}\r\n\r\nexport function fetchUser (id) {\r\n  return fetch(`${api}/user/${id}${json}`)\r\n    .then((res) => res.json())\r\n}\r\n\r\nexport function fetchPosts (ids) {\r\n  return Promise.all(ids.map(fetchItem))\r\n    .then((posts) => removeDeleted(onlyPosts(removeDead(posts))))\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\n\r\n\r\nexport let themeContext = React.createContext();","import moment from 'moment';\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport {themeContext} from '../../../contexts/theme-context.js';\r\n\r\nexport function Post({ post }) {\r\n\tlet { title,by: author,url,kids: comments = [],epochTime, id } = post;\r\n\tconsole.log(post)\r\n\r\n\tlet theme = React.useContext(themeContext);\r\n\r\n\tlet time = moment(epochTime).format('lll');\r\n\r\n\tconsole.log(\"post -> \",post)\r\n\treturn (\r\n\t\t<div className=\"post mt-2\">\r\n\r\n\t\t\t<h4  >\r\n\t\t\t\t<a href={url} target='_blank' className={theme=='light'?\"color-primary\": 'color-primary-dark'}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</a>\r\n\t\t\t\t\r\n\t\t\t</h4>\r\n\r\n\t\t\t<p className='color-secondary'>\r\n\t\t\t\tby\r\n\t\t\t\t<Link to={\"/user\" + `?id=${author}`} >\r\n\t\t\t\t\t<u className={theme=='light'?\" \": 'dark'}> {author} </u>\r\n\t\t\t\t</Link>\r\n\t\t\t\ton {time} with\r\n\r\n\t\t\t\t<Link to={{pathname: '/post', search: 'id=23', state: {post}} }> <u className={theme=='light'?\" \": 'dark'}>{comments.length}</u> </Link>\r\n\t\t\t\tcomments\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react';\r\nimport { themeContext } from '../../contexts/theme-context';\r\n\r\nexport function Loading({ loadInterval = 1000,loadingText = 'Loading' }) {\r\n\r\n\tlet [loading,setLoading] = React.useState(loadingText);\r\n\r\n\tlet theme = React.useContext(themeContext);\r\n\r\n\tReact.useEffect(\r\n\t\t() => {\r\n\t\t\tlet interId = setInterval(\r\n\t\t\t\t() => {\r\n\t\t\t\t\tsetLoading(\r\n\t\t\t\t\t\t(loading) => {\r\n\t\t\t\t\t\t\tif (loading == loadingText + '...') {\r\n\t\t\t\t\t\t\t\treturn loadingText;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn loading + '.';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t},loadInterval\r\n\t\t\t)\r\n\r\n\t\t\treturn () => clearInterval(interId);\r\n\r\n\t\t},[]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<h2 className={theme == 'dark' ? 'color-primary-dark' : ''}>\r\n\t\t\t{loading}\r\n\t\t</h2>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { themeContext } from '../../contexts/theme-context'\r\n\r\nexport function Error({error= \"There was some error\"}) {\r\n\t\r\n\tlet theme = React.useContext(themeContext);\r\n\r\n\treturn (\r\n\t\t<h2 className={theme=='dark'? 'color-primary-dark': ''}>\r\n\t\t\t{error}\r\n\t\t</h2>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { useState } from 'react'\r\n\r\nimport { fetchMainPosts } from '../../api';\r\nimport { Post } from './Post';\r\nimport './posts.css'\r\nimport { Loading } from '../Loading';\r\nimport { Error } from '../Error';\r\nimport { themeContext } from '../../contexts/theme-context';\r\n\r\n\r\n\r\nexport function Posts(props) {\r\n\r\n\tlet { pathname } = useLocation();\r\n\r\n\tlet [loading,setLoading] = useState(true);\r\n\tlet [error,setError] = useState('');\r\n\tlet [posts,setPosts] = useState('');\r\n\r\n\tlet theme = React.useContext(themeContext);\r\n\tReact.useEffect(\r\n\t\t() => {\r\n\t\t\tlet postType = pathname == '/' ? 'top' : 'new';\r\n\r\n\t\t\tsetLoading(true);\r\n\t\t\tfetchMainPosts(postType)\r\n\t\t\t\t.then(\r\n\t\t\t\t\t(fetchedPosts) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsetError(null);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetPosts(fetchedPosts);\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.catch(\r\n\t\t\t\t\t(fetchError) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetError(fetchError.message);\r\n\t\t\t\t\t\tsetPosts(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\r\n\t\t},[pathname]\r\n\t)\r\n\r\n\r\n\tif (loading) {\r\n\t\treturn <Loading />\r\n\t}\r\n\telse if (error) {\r\n\t\treturn <Error error={error} />\r\n\t}\r\n\telse if (posts) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{posts.map((post,i) => <Post key={i} post={post} />)}\r\n\t\t\t</div>);\r\n\t}\r\n\telse {\r\n\t\treturn (\r\n\t\t\t<div className={theme=='dark'? 'color-primary-dark': ''}>\r\n\t\t\t\tThere are no posts\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\r\n\r\n}\r\n","import React from 'react'\r\nimport { fetchPosts } from '../../../api';\r\nimport { Error } from '../../Error';\r\nimport { Loading } from '../../Loading';\r\nimport { Post } from '../../Posts/Post';\r\n\r\nexport function UserPosts({ submitted }) {\r\n\tsubmitted.length = 50;\r\n\r\n\tlet [posts,setPosts] = React.useState();\r\n\tlet [loading,setLoading] = React.useState(true);\r\n\tlet [error,setError] = React.useState('There was some error');\r\n\r\n\tReact.useEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetError('');\r\n\r\n\t\t\tfetchPosts(submitted)\r\n\t\t\t\t.then(\r\n\t\t\t\t\t(posts) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetError('');\r\n\t\t\t\t\t\tsetPosts(posts);\r\n\r\n\t\t\t\t\t\tconsole.log(posts)\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.catch(\r\n\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\tsetError(err.message);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetPosts(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t},[submitted]\r\n\t)\r\n\r\n\tif (loading) {\r\n\t\treturn <Loading loadingText={'Loading Posts'} />\r\n\t}\r\n\telse if (posts) {\r\n\t\treturn (\r\n\t\t\tposts.length > 0\r\n\t\t\t\t? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{posts.map((post,i) => <Post post={post} key={i} />)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t: <p>There are no posts</p>\r\n\t\t)\r\n\t}\r\n\telse {\r\n\t\treturn <Error error={error}/>\r\n\t}\r\n\r\n}\r\n","import React from 'react';\r\nimport './userProfile.css';\r\nimport queryString from 'query-string';\r\nimport { useLocation } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\nimport { Post } from '../Posts/Post'\r\nimport { fetchUser } from '../../api';\r\nimport { UserPosts } from './userPosts';\r\nimport { themeContext } from '../../contexts/theme-context';\r\nimport { Loading } from '../Loading';\r\nimport { Error } from '../Error';\r\n\r\n\r\n\r\nfunction UserDetail({ className: outerClass,user,...props }) {\r\n\tlet { id,karma,created,about } = user;\r\n\r\n\tlet joined = moment(created).format('lll');\r\n\r\n\r\n\tlet theme = React.useContext(themeContext);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2 className={`mt-2 ${theme=='light'? '': 'color-dark'}`}>{id}</h2>\r\n\t\t\t<p className={'color-secondary'}>joined {joined} has <b>{karma}</b> karma</p>\r\n\r\n\r\n\t\t\t<p className={`bio mt-1 ${theme=='light'? '': 'color-dark'}`} dangerouslySetInnerHTML={{__html: about}}>\r\n\t\t\t\t\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport function UserProfile(props) {\r\n\r\n\tlet query = useLocation().search;\r\n\tlet id = queryString.parse(query).id;\r\n\r\n\tlet [user,setUser] = React.useState(null);\r\n\tlet [loading,setLoading] = React.useState(true);\r\n\tlet [error,setError] = React.useState('There was some error');\r\n\r\n\r\n\tlet theme = React.useContext(themeContext);\r\n\tReact.useEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetError('');\r\n\r\n\t\t\tfetchUser(id)\r\n\t\t\t\t.then(\r\n\t\t\t\t\t(fetchedUser) => {\r\n\t\t\t\t\t\tsetError('');\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetUser(fetchedUser);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.catch(\r\n\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetError(err.message);\r\n\t\t\t\t\t\tsetUser(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t},[id]\r\n\t)\r\n\r\n\tif (loading) {\r\n\t\treturn <Loading/>;\r\n\t}\r\n\telse if (user) {\r\n\t\treturn (\r\n\t\t\t<div className=\"my-2\">\r\n\r\n\t\t\t\t<UserDetail user={user}></UserDetail>\r\n\t\t\t\t<h3 className={`mt-2 ${theme=='light'? '': 'color-dark'}`}>Posts</h3>\r\n\t\t\t\t<UserPosts submitted={user.submitted} />\r\n\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\telse {\r\n\t\treturn <Error error={error} />\r\n\t}\r\n\r\n\r\n\r\n}\r\n","import React from 'react';\r\nimport './comment.css';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport {themeContext} from '../../../contexts/theme-context.js'\r\n\r\n\r\nexport function Comment({comment}) {\r\n\r\n\tlet {by, text, epochTime} = comment;\r\n\tlet time = moment(epochTime).format('lll');\r\n\r\n\tlet theme = React.useContext(themeContext);\r\n\r\n\treturn (\r\n\t\t\r\n\t\t<div className={`${theme=='light'?'comment' : 'comment-dark'} mt-1`}>\r\n\t\t\t<p  className=\"color-secondary\">by \r\n\t\t\t\t<Link to={{pathname:'/user', search:`id=${by}`}}> <u className={theme=='light'? '': 'color-dark'}>{by}</u> </Link>\r\n\t\t\t{time} </p>\r\n\t\t\t<p className={`${theme=='dark'? 'color-dark': ''} mt-1`}>\r\n\t\t\t\t{text}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { Comment } from './Comment'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport moment from 'moment';\r\nimport { fetchComments } from '../../api';\r\nimport { themeContext } from '../../contexts/theme-context';\r\nimport { Error } from '../Error';\r\nimport { Loading } from '../Loading';\r\n\r\n\r\nexport function CommentsContainer({ comments }) {\r\n\r\n\r\n\tlet [fetchedComments,setFetchedComments] = React.useState(null);\r\n\tlet [loading,setLoading] = React.useState(true);\r\n\tlet [error,setError] = React.useState('');\r\n\r\n\r\n\tReact.useEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetError(null);\r\n\t\t\tfetchComments(comments)\r\n\t\t\t\t.then(\r\n\t\t\t\t\t(fetched) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetError(null);\r\n\t\t\t\t\t\tsetFetchedComments(fetched);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.catch(\r\n\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetError(err.message);\r\n\t\t\t\t\t\tsetFetchedComments(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t},[comments]\r\n\t)\r\n\r\n\r\n\r\n\tif (loading) {\r\n\t\treturn <Loading />\r\n\r\n\t} else if (fetchedComments) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{fetchedComments.map((comment,i) => <Comment comment={comment} key={i} />)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\r\n\treturn <Error error={error} />\r\n\r\n\r\n}\r\n\r\n\r\nexport function PostComments(props) {\r\n\r\n\tlet { post } = useLocation().state;\r\n\tlet { by: author,kids: comments = [],time: epochTime,title,url } = post;\r\n\r\n\tlet time = moment(epochTime).format('lll');\r\n\r\n\r\n\tlet theme = React.useContext(themeContext);\r\n\treturn (\r\n\t\t<div>\r\n\r\n\t\t\t<div className=\"mb-2\">\r\n\t\t\t\t<h1 > <a className={theme == 'light' ? \"color-primary\" : 'color-primary-dark'} href={url} target=\"_blank\" >{title}</a> </h1>\r\n\t\t\t\t<p className=\"color-secondary\">\r\n\t\t\t\t\tby <Link to={{pathname:'/user', search:`?id=${author}`}}><u className={theme == 'light' ? \" \" : 'color-dark'}>{author}</u>\r\n\t\t\t\t\t</Link> on {time} with <u className={theme == 'light' ? \" \" : 'color-dark'}>{comments.length}</u> comments\r\n\t\t\t\t </p>\t\t\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t{\r\n\t\t\t\tcomments.length > 0\r\n\t\t\t\t\t? <CommentsContainer comments={comments} />\r\n\t\t\t\t\t: <p>No Comments</p>\r\n\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}","import React from 'react'\nimport { Nav,PostComments,Posts,UserProfile } from './components';\nimport { BrowserRouter as Router,Route,Switch } from 'react-router-dom';\nimport './App.css';\n\nimport { themeContext } from './contexts/theme-context.js';\n//todo : code splitting\n\n\nfunction App() {\n\n\tlet [theme,setTheme] = React.useState('light');\n\n\treturn (\n\t\t<themeContext.Provider value={theme}>\n\n\t\t\t<div  className ={`App  ${theme=='dark'? 'dark': null}`}>\n\n\t\t\t\t<div className={`container  `}>\n\t\t\t\t\t<Router>\n\t\t\t\t\t\t<Nav setTheme={setTheme} theme={theme}></Nav>\n\n\t\t\t\t\t\t<Switch>\n\n\t\t\t\t\t\t\t<Route path='/user'>\n\t\t\t\t\t\t\t\t<UserProfile>\n\t\t\t\t\t\t\t\t</UserProfile>\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/post'>\n\t\t\t\t\t\t\t\t<PostComments />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/new'>\n\t\t\t\t\t\t\t\t<Posts />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/'>\n\t\t\t\t\t\t\t\t<Posts />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Router>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</themeContext.Provider>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}